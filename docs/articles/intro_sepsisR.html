<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction To SepsisR â€¢ SepsisR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction To SepsisR">
<meta property="og:description" content="SepsisR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SepsisR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro_sepsisR.html">Introduction To SepsisR</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="intro_sepsisR_files/header-attrs-2.11/header-attrs.js"></script><script src="intro_sepsisR_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="intro_sepsisR_files/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="intro_sepsisR_files/datatables-binding-0.19/datatables.js"></script><script src="intro_sepsisR_files/jquery-3.6.0/jquery-3.6.0.min.js"></script><link href="intro_sepsisR_files/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="intro_sepsisR_files/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="intro_sepsisR_files/dt-core-1.10.20/js/jquery.dataTables.min.js"></script><link href="intro_sepsisR_files/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="intro_sepsisR_files/crosstalk-1.1.1/js/crosstalk.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction To SepsisR</h1>
            
      
      
      <div class="hidden name"><code>intro_sepsisR.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The clinical presentation of sepsis is complicated. There are so many different organisms that can affect a person and each person can have a different immune response to the same organism. This varied clinical presentation also creates difficult data to work with. As the person in charge of gaining insights from this data you usually have two main tasks: 1) When did sepsis occur? 2) Did they get the right interventions within the right amount time. This seems simple, but it can be tricky.</p>
<p>It is my goal that this package will make your life a little easier. The SepsisR package has several functions to help you analyze sepsis data using different measures for organ failure. Furthermore, the package includes a few helper functions to help you identify patients that meet the Centers For Disease And Controls (CDC) Adult Sepsis Event (ASE).</p>
</div>
<div id="assessing-organ-failure" class="section level2">
<h2 class="hasAnchor">
<a href="#assessing-organ-failure" class="anchor"></a>Assessing Organ Failure</h2>
<p>The main function in this package is assess_organ. This function applies either SIRS, qSOFA, or SOFA to the dataset.</p>
<p>Below is an example of how to use assess_organ with the SIRS score.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># practice data</span>
<span class="va">test_sirs</span> <span class="op">&lt;-</span> <span class="fu">SepsisR</span><span class="fu">::</span><span class="va"><a href="../reference/sirs_data.html">sirs_data</a></span>

<span class="co"># implementing the function</span>
<span class="va">test_sirs</span> <span class="op">&lt;-</span> <span class="fu">SepsisR</span><span class="fu">::</span><span class="fu"><a href="../reference/assess_organ.html">assess_organ</a></span><span class="op">(</span>.data <span class="op">=</span> <span class="va">test_sirs</span>,
                          method <span class="op">=</span> <span class="st">"SIRS"</span>,
                          patientid <span class="op">=</span> <span class="va">Encounter</span>,
                          time <span class="op">=</span> <span class="va">`Service_Timestamp`</span>,
                          vitals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Temperature"</span> <span class="op">=</span> <span class="st">"Temperature"</span>,
                                     <span class="st">"RR"</span> <span class="op">=</span> <span class="st">"RR"</span>,
                                     <span class="st">"HR"</span> <span class="op">=</span> <span class="st">"HR"</span>,
                                     <span class="st">"WBC"</span> <span class="op">=</span> <span class="st">"Wbc"</span><span class="op">)</span><span class="op">)</span>
<span class="co"># looking at the results</span>
<span class="fu">datatable</span><span class="op">(</span><span class="va">test_sirs</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-0cbc910e44a1faa92baf" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-0cbc910e44a1faa92baf">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9"],[1,1,1,1,1,1,1,1,1],["2018-12-11T08:00:00Z","2018-12-11T08:30:00Z","2018-12-11T09:00:00Z","2018-12-11T09:30:00Z","2018-12-11T10:00:00Z","2018-12-11T10:30:00Z","2018-12-11T11:00:00Z","2018-12-11T11:30:00Z","2018-12-11T12:00:00Z"],[120,72,85,90,111,64,70,75,81],[31,31,33,31,31,32,38,33,31],[20,20,21,22,20,20,20,20,20],[5000,5000,5000,5000,5000,5000,5000,5000,5000],[2,1,2,2,2,1,0,1,1]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Encounter<\/th>\n      <th>Service_Timestamp<\/th>\n      <th>HR<\/th>\n      <th>Temperature<\/th>\n      <th>RR<\/th>\n      <th>Wbc<\/th>\n      <th>sirs_total<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><p>It is important to note that temperature is in Celsius and White Blood Count (WBC) is in mmm^3. One other parameter that is not shown in the example above is period. Period is a numeric parameter that indicates the number of hours one vital sign is good for, the default is 1 hour. This will fill in any NAs for up to one hour after the original vital sign was taken in order to account for vitals taken at different times.</p>
<p>SOFA is the most complicated of the three scores, with a lot of vitals needed to accurately compute the score.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get the test dataset</span>
<span class="va">test_sofa</span> <span class="op">&lt;-</span> <span class="va">sofa_data</span>

<span class="co"># implementing the function</span>
<span class="va">test_sofa</span> <span class="op">&lt;-</span> <span class="fu">SepsisR</span><span class="fu">::</span><span class="fu"><a href="../reference/assess_organ.html">assess_organ</a></span><span class="op">(</span>.data <span class="op">=</span> <span class="va">test_sofa</span>,
                                   method <span class="op">=</span> <span class="st">"SOFA"</span>,
                                   patientid <span class="op">=</span> <span class="va">Encounter</span>,
                                   time <span class="op">=</span> <span class="va">Service_Timestamp</span>,
                                   vitals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"PaO2"</span> <span class="op">=</span> <span class="st">"Pa02"</span>,
                                              <span class="st">"FiO2"</span> <span class="op">=</span> <span class="st">"Fi02"</span>,
                                              <span class="st">"Platelets"</span> <span class="op">=</span> <span class="st">"Platelet"</span>,
                                              <span class="st">"Bilirubin"</span> <span class="op">=</span> <span class="st">"Bili"</span>,
                                              <span class="st">"GCS"</span> <span class="op">=</span> <span class="st">"GCS"</span>,
                                              <span class="st">"Creatinine"</span> <span class="op">=</span> <span class="st">"Creatinine"</span>,
                                              <span class="st">"SBP"</span> <span class="op">=</span> <span class="st">"SBP"</span>,
                                              <span class="st">"DBP"</span> <span class="op">=</span> <span class="st">"DBP"</span>,
                                              <span class="st">"Vasopressor"</span> <span class="op">=</span> <span class="st">"Vasopressor"</span>,
                                              <span class="st">"Vasopressor_dose"</span> <span class="op">=</span> <span class="st">"Vasopressor Dosage"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># view results</span>
<span class="va">test_sofa</span> <span class="op">%&gt;%</span>
  <span class="fu">datatable</span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">T</span>, pageLength <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-90133fe60d647ce925a0" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-90133fe60d647ce925a0">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9"],[1,1,1,1,1,1,1,1,1],["2019-10-11T09:00:00Z","2019-10-12T10:00:00Z","2019-10-12T12:00:00Z","2019-10-13T14:00:00Z","2019-10-13T15:00:00Z","2019-10-13T12:00:00Z","2019-10-16T12:00:00Z","2019-10-17T12:00:00Z","2019-10-18T12:00:00Z"],[75,75,75,75,75,75,105,109,90],[0.21,0.21,0.21,0.21,0.21,0.21,0.15,0.1,0.21],[160,160,160,160,160,160,150,150,150],[12,12,12,12,12,1,1,1,1],[14,14,14,14,14,12,14,14,14],[1.2,1.2,1.2,1.2,1.2,1.2,7,5,5],[120,90,70,70,70,120,120,120,120],[70,69,50,50,50,68,68,68,68],[null,null,null,"Dopamine","Dopamine","Dopamine","Dopamine","Dopamine","Dopamine"],[null,null,null,5,5,5,5,5,15],[6,6,7,8,8,9,11,7,8]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Encounter<\/th>\n      <th>Service_Timestamp<\/th>\n      <th>Pa02<\/th>\n      <th>Fi02<\/th>\n      <th>Platelet<\/th>\n      <th>Bili<\/th>\n      <th>GCS<\/th>\n      <th>Creatinine<\/th>\n      <th>SBP<\/th>\n      <th>DBP<\/th>\n      <th>Vasopressor<\/th>\n      <th>Vasopressor Dosage<\/th>\n      <th>sofa_total<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[1,3,4,5,6,7,8,9,10,12,13]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script><p>Once you get past the vitals part, the function operates very similarly to when you implement the SIRS method. It is important to note that FiO2 should be implemented as a percent and not a decimal so 21 and not 0.21. It is also important to note that, as of right now, the only vasopressors that will be considered in the SOFA calculation are Dopamine, Dobutamine, Epinephrine, and Norepinephrine. Oftentimes Norepinephrine may be listed as levophed, it is important to change the names in your dataset if you want the vasopressor to be included in the score.</p>
</div>
<div id="centers-for-disease-cdc-adult-sepsis-event-ase-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#centers-for-disease-cdc-adult-sepsis-event-ase-functions" class="anchor"></a>Centers For Disease (CDC) Adult Sepsis Event (ASE) Functions</h2>
<p>In addition to the assess_organ function, the package comes with a few functions that help when analyzing data related to CDCâ€™s ASE.</p>
<p>One important part of the CDC ASE is find out events that happen within a certain window of withdrawing blood cultures, specifically 2 days before and 2 days after. SepsisR includes a function that will allow you to determine if an event falls within that blood culture window.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># use test sirs data</span>
<span class="va">test_sirs</span> <span class="op">&lt;-</span> <span class="va">sirs_data</span>

<span class="co"># add on a fake blood culture time</span>
<span class="va">test_sirs</span> <span class="op">&lt;-</span> <span class="va">test_sirs</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>blood_cult_time <span class="op">=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="http://lubridate.tidyverse.org/reference/ymd_hms.html">ymd_hms</a></span><span class="op">(</span><span class="st">"2018-12-9 09:00:00"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/find_bx_window.html">find_bx_window</a></span><span class="op">(</span>timestamp_variable <span class="op">=</span> <span class="va">Service_Timestamp</span>,blood_culture_time <span class="op">=</span> <span class="va">blood_cult_time</span><span class="op">)</span></code></pre></div>
<p>I created a fake blood culture time and applied that time to every row with a service timestamp. The result of the function is a boolean column called â€˜within_windowâ€™ where TRUE means the time is within the column and FALSE is outside of the column.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">test_sirs</span> <span class="op">%&gt;%</span>
  <span class="fu">select</span><span class="op">(</span><span class="va">Encounter</span>, <span class="va">Service_Timestamp</span>, <span class="va">blood_cult_time</span>, <span class="va">within_window</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">datatable</span><span class="op">(</span>options <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>scrollX <span class="op">=</span> <span class="cn">T</span>, pageLength <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-a5e8a2932f5c879feee3" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-a5e8a2932f5c879feee3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9"],[1,1,1,1,1,1,1,1,1],["2018-12-11T08:00:00Z","2018-12-11T08:30:00Z","2018-12-11T09:00:00Z","2018-12-11T09:30:00Z","2018-12-11T10:00:00Z","2018-12-11T10:30:00Z","2018-12-11T11:00:00Z","2018-12-11T11:30:00Z","2018-12-11T12:00:00Z"],["2018-12-09T09:00:00Z","2018-12-09T09:00:00Z","2018-12-09T09:00:00Z","2018-12-09T09:00:00Z","2018-12-09T09:00:00Z","2018-12-09T09:00:00Z","2018-12-09T09:00:00Z","2018-12-09T09:00:00Z","2018-12-09T09:00:00Z"],[true,true,true,false,false,false,false,false,false]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Encounter<\/th>\n      <th>Service_Timestamp<\/th>\n      <th>blood_cult_time<\/th>\n      <th>within_window<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"scrollX":true,"pageLength":5,"columnDefs":[{"className":"dt-right","targets":1},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Trent Gillingham.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
